*{margin:0;padding:0;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}body{font-family:Arial,sans-serif;background:#1a1a1a;min-height:100vh;color:#e0e0e0;overflow:hidden;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;touch-action:manipulation}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.cursor-move{cursor:move}.cursor-crosshair{cursor:crosshair}.cursor-not-allowed{cursor:not-allowed}.cursor-grab{cursor:grab}.cursor-help{cursor:help}#hex-canvas.can-select{cursor:pointer}#hex-canvas.can-move{cursor:move}#hex-canvas.can-attack{cursor:crosshair}#hex-canvas.can-place{cursor:copy}#hex-canvas.blocked{cursor:not-allowed}#hex-canvas.dragging{cursor:grabbing}.board-card-overlay{position:absolute;cursor:grab;z-index:1000;pointer-events:auto;touch-action:none;-webkit-user-drag:none;background:0 0;border-radius:50%}.card-fade-overlay{position:absolute;z-index:1001;pointer-events:none;opacity:1;transition:opacity 1.6s ease-out;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;backface-visibility:hidden;transform:translateZ(0);will-change:opacity,transform;image-rendering:crisp-edges;image-rendering:-webkit-optimize-contrast}.card-fade-overlay.fade-out{opacity:0}.card-fade-overlay.captured.fade-out{animation:split-slide 1.2s ease-out forwards}.card-fade-overlay.captured-top.fade-out{animation:split-slide-top 1.2s ease-out forwards}.card-fade-overlay.captured-bottom{opacity:0}.card-fade-overlay.captured-bottom.fade-out{animation:split-slide-bottom 1.2s ease-out forwards}.card-fade-overlay.survived{border:3px solid #39f!important;box-shadow:0 0 30px 8px #39f,0 0 60px 16px #00e0ff44!important;transition:opacity 1.2s ease-out,transform 1.2s ease-out}.card-fade-overlay.survived.fade-out{opacity:0;transform:scale(.5) rotate(-90deg)}.card-fade-overlay.discarded{border:3px solid #f44!important;box-shadow:0 0 30px 8px #f44,0 0 60px 16px #ff000044!important;transition:opacity 1.6s ease-out,transform 1.6s ease-out}.card-fade-overlay.discarded.fade-out{opacity:0;transform:scale(.1) rotate(15deg)}.card-fade-overlay.leader-attacked{transition:opacity 3s ease-out,box-shadow 3s ease-out}.card-fade-overlay.leader-attacked.fade-out{opacity:0;box-shadow:0 0 100px rgba(255,0,0,0)}.card-fade-overlay.replacement-old{transition:opacity 1.6s ease-out,transform 1.6s ease-out}.card-fade-overlay.replacement-old.fade-out{opacity:0;transform:scale(.1) rotate(15deg)}.card-fade-overlay.replacement-new{transition:opacity 1.2s ease-out,transform 1.2s ease-out}.card-fade-overlay.replacement-new.fade-in{opacity:1!important;transform:scale(1)!important}.card-fade-overlay.attacker-highlight{transition:all 3s ease-out;animation:attacker-shake .15s ease-in-out}.card-fade-overlay.attacker-highlight.attacking{transition:opacity 1.2s ease-out,transform 1.2s ease-out}.card-fade-overlay.attacker-highlight.survived{transition:opacity 1.2s ease-out,transform 1.2s ease-out}.card-fade-overlay.attacker-highlight.survived.attacking{opacity:0;transform:scale(.5) rotate(-90deg)}.card-fade-overlay.target-highlight{transition:all 3s ease-out}.card-fade-overlay.target-highlight.defending{opacity:0;box-shadow:0 0 40px rgba(255,215,0,0)}.card-fade-overlay.target-highlight.survived.defending{opacity:0;transform:scale(.5) rotate(-90deg);transition:opacity 1.2s ease-out,transform 1.2s ease-out}@keyframes split-slide-top{0%{transform:translate(0,0);opacity:1;clip-path:polygon(0 0,100% 0,100% 100%,0 100%)}40%{transform:translate(0,0);opacity:1;clip-path:polygon(0 0,100% 0,100% 100%,0 100%)}40.01%{clip-path:polygon(0 0,100% 0,100% 100%,0 0)}100%{transform:translate(20px,15px);opacity:0;clip-path:polygon(0 0,100% 0,100% 100%,0 0)}}@keyframes split-slide-bottom{0%{transform:translate(0,0);opacity:0}40%{transform:translate(0,0);opacity:0}40.01%{transform:translate(0,0);opacity:1;clip-path:polygon(0 0,100% 100%,0 100%,0 0)}100%{transform:translate(-20px,-15px);opacity:0;clip-path:polygon(0 0,100% 100%,0 100%,0 0)}}@keyframes split-slide{0%{opacity:1}100%{opacity:0}}@keyframes dissolve{0%{transform:scale(1);opacity:1}100%{transform:scale(1.4);opacity:0}}@keyframes attacker-shake{0%,100%{transform:translateX(0) translateY(0)}25%{transform:translateX(-6px) translateY(4px)}50%{transform:translateX(6px) translateY(-4px)}75%{transform:translateX(-4px) translateY(2px)}}@keyframes attack-pulse{0%,100%{box-shadow:0 0 20px rgba(255,215,0,.8)}50%{box-shadow:0 0 30px gold}}@keyframes defend-pulse{0%,100%{box-shadow:0 0 20px rgba(255,68,68,.8)}50%{box-shadow:0 0 25px #f44}}@keyframes battle-casualty{0%{opacity:1}25%{opacity:.8}50%{opacity:.6}75%{opacity:.3}100%{opacity:0}}.board-card-overlay:active{cursor:grabbing}#game-container{position:relative;width:100vw;height:100vh;padding-top:env(safe-area-inset-top);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right)}.overlay{position:absolute;z-index:100;pointer-events:auto}.top-left{top:10px;left:10px}.top-right{top:10px;right:10px}.top-center{top:10px;left:50%;transform:translateX(-50%)}.bottom-left{bottom:10px;left:10px}.bottom-right{bottom:10px;right:10px}.bottom-center{bottom:10px;left:50%;transform:translateX(-50%)}.center{top:10%;left:50%;transform:translate(-50%,0)}#flash-caption{z-index:1000;pointer-events:none;transition:opacity .3s ease-in-out}#flash-caption.hidden{opacity:0}#flash-caption.visible{opacity:1}#flash-text{opacity:.5;color:#fff;padding:20px 40px;border-radius:15px;font-size:36px;font-weight:700;text-align:center;text-shadow:2px 2px 4px rgba(0,0,0,.8);border:3px solid #4a90e2;box-shadow:0 0 20px rgba(74,144,226,.5);min-width:300px}#flash-text.setup{border-color:#28a745;box-shadow:0 0 20px rgba(40,167,69,.5);color:#28a745}#flash-text.battle{border-color:#dc3545;box-shadow:0 0 20px rgba(220,53,69,.5);color:#dc3545}#flash-text.player1{border-color:#4a90e2;box-shadow:0 0 20px rgba(74,144,226,.5);color:#4a90e2}#flash-text.player2{border-color:gold;box-shadow:0 0 20px rgba(255,215,0,.5);color:gold}#flash-text.win{border-color:#ffc107;box-shadow:0 0 20px rgba(255,193,7,.5);color:#ffc107;font-size:56px}#game-status{text-align:center;padding:10px 20px}#game-status div{margin:2px 0;font-size:14px;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.8);color:#fff}#current-player{color:gold;text-shadow:2px 2px 4px #000}#turn-info{font-size:12px;max-width:90vw;overflow-wrap:break-word;transition:all .3s ease}.player-info{padding:10px;min-width:120px}.player-name{text-align:center;font-weight:700;margin-bottom:5px;font-size:16px;text-shadow:2px 2px 4px #000}.stats{display:flex;flex-direction:column;gap:3px;font-size:12px}.stats span{display:flex;justify-content:space-between;align-items:center;color:#fff;text-shadow:1px 1px 3px rgba(0,0,0,.8)}#player-hand{padding:15px;max-width:90vw;overflow:hidden}.hand-cards{display:flex;gap:4px;justify-content:center;flex-wrap:nowrap;max-width:100%;overflow-x:auto;overflow-y:visible;-webkit-overflow-scrolling:touch;scroll-behavior:smooth}.hand-cards::-webkit-scrollbar{display:none}.hand-cards{scrollbar-width:none;-ms-overflow-style:none}#action-buttons{display:flex;flex-direction:column;gap:10px}#action-buttons button{padding:12px 20px;background:linear-gradient(135deg,#4caf50,#45a049);color:#fff;border:none;border-radius:25px;cursor:pointer;font-size:14px;font-weight:700;transition:all .3s ease;box-shadow:0 4px 15px rgba(0,0,0,.3)}#action-buttons button:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,.4)}#action-buttons button:active{transform:translateY(0)}#end-turn{background:linear-gradient(135deg,#ff6b6b,#ff5252)}#settings-menu button{background:0 0;color:#fff;border:none;cursor:pointer;font-size:36px;font-weight:700;transition:all .3s ease;padding:8px;text-shadow:2px 2px 4px rgba(0,0,0,.8);min-width:44px;min-height:44px;display:flex;align-items:center;justify-content:center}#settings-menu button:hover{color:gold;transform:scale(1.2);text-shadow:2px 2px 6px #000,0 0 10px rgba(255,215,0,.5)}#menu-options{position:absolute;bottom:65px;left:0;background:rgba(0,0,0,.85);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:12px;padding:12px;display:flex;flex-direction:column;gap:8px;min-width:200px;box-shadow:0 8px 24px rgba(0,0,0,.6);transition:opacity .3s ease,transform .3s ease,visibility .3s ease;transform-origin:bottom left}#menu-options.hidden{opacity:0;transform:scale(.9) translateY(10px);visibility:hidden;pointer-events:none}#menu-options button{background:rgba(255,255,255,.1);color:#fff;border:1px solid rgba(255,255,255,.2);border-radius:8px;padding:14px 18px;cursor:pointer;font-size:15px;font-weight:500;width:100%;min-height:48px;text-align:left;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .2s ease;backdrop-filter:blur(2px);flex-shrink:0}#menu-options button:hover{background:rgba(255,255,255,.25);border-color:rgba(255,255,255,.4);transform:translateY(-1px);box-shadow:0 2px 8px rgba(0,0,0,.3)}#try-playing-btn{opacity:.5;bottom:70px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,#4caf50,#45a049);color:#fff;border:none;border-radius:25px;padding:15px 30px;font-size:18px;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px rgba(0,0,0,.3);z-index:2000;pointer-events:auto}#try-playing-btn:hover{opacity:1;transform:translateX(-50%) translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,.4);background:linear-gradient(135deg,#5bc560,#4caf50)}#try-playing-btn:active{opacity:1;transform:translateX(-50%) translateY(0)}#hex-canvas{position:absolute;top:0;left:0;width:100vw;height:100vh;cursor:pointer;z-index:1;transition:all .8s ease-in-out}#hex-canvas{background:#2d2d2d}.card{width:32px;height:43px;border-radius:4px;border:1px solid #333;background:#f0f0f0;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;font-weight:700;cursor:pointer;position:relative;margin:1px;transition:all .3s ease;touch-action:manipulation;-webkit-tap-highlight-color:rgba(255,255,255,0.1)}.card:not(.end-turn-card):hover{cursor:grab}.card:not(.end-turn-card):active{cursor:grabbing}.card.joker.player1{border-color:gold}.card.joker.player2{border-color:#ff8c00}.card[draggable=true]{cursor:grab}.card[draggable=true]:active{cursor:grabbing}.card.dragging{opacity:.5;transform:rotate(5deg) scale(1.1)}#hex-canvas.dragging-map{cursor:grabbing!important}.card.face-down{background:#4a4a4a;color:#fff}.card.face-down:after{content:'?';font-size:16px}.card.rotated{transform:rotate(45deg);opacity:.7}.card.skewed{transform:rotate(15deg);opacity:.8}.card.hearts{color:#e74c3c;border-color:#e74c3c}.card.diamonds{color:#e74c3c;border-color:#e74c3c}.card.clubs{color:#2c3e50;border-color:#2c3e50}.card.spades{color:#2c3e50;border-color:#2c3e50}.card.joker{background:0 0;border-color:transparent;color:#8b4513;font-size:12px}.card.plus-card{background:0 0!important;border:2px solid #4caf50!important;color:#4caf50!important;font-size:24px!important;transition:all .2s ease}.card.plus-card:hover{background:rgba(76,175,80,.1)!important;transform:scale(1.05);box-shadow:0 0 10px rgba(76,175,80,.4)}.card.end-turn-card{background:0 0!important;border:2px solid #ff6b6b!important;color:#ff6b6b!important;font-size:8px!important;transition:all .2s ease}.card.end-turn-card:hover{background:rgba(255,107,107,.1)!important;transform:scale(1.05);box-shadow:0 0 10px rgba(255,107,107,.4)}.card:hover{transform:scale(1.02);z-index:200;box-shadow:0 0 8px rgba(255,255,255,.4);transform-origin:center center}.card.rotated:hover{transform:rotate(45deg) scale(1.02);box-shadow:0 0 8px rgba(255,255,255,.4);transform-origin:center center}.card.skewed:hover{transform:rotate(15deg) scale(1.02);box-shadow:0 0 8px rgba(255,255,255,.4);transform-origin:center center}@media (pointer:coarse){.card:hover{transform:none;box-shadow:none}.card.rotated:hover{transform:rotate(45deg);box-shadow:none}.card.skewed:hover{transform:rotate(15deg);box-shadow:none}.card:active{transform:scale(.98);opacity:.8;transition:all .1s ease}.card.rotated:active{transform:rotate(45deg) scale(.98);opacity:.8}.card.skewed:active{transform:rotate(15deg) scale(.98);opacity:.8}button:hover{transform:none;box-shadow:0 4px 15px rgba(0,0,0,.3)}#settings-menu button:hover{color:#fff;transform:none;text-shadow:2px 2px 4px rgba(0,0,0,.8)}button:active{transform:scale(.96);transition:all .1s ease}#settings-menu button:active{transform:scale(.9);color:gold;text-shadow:2px 2px 6px #000}.card.plus-card:hover{background:0 0!important;transform:none;box-shadow:none}.card.plus-card:active{background:rgba(76,175,80,.2)!important;transform:scale(.95)}.card.end-turn-card:hover{background:0 0!important;transform:none;box-shadow:none}.card.end-turn-card:active{background:rgba(255,107,107,.2)!important;transform:scale(.95)}}.card.selected{border-color:gold;border-width:3px;box-shadow:0 0 15px rgba(255,215,0,.8);background:linear-gradient(135deg,rgba(255,215,0,.2),rgba(255,215,0,.1))}.hand-cards .card{position:relative}.card-value{font-size:18px;font-weight:700;line-height:1;color:#fff}.card-suit{font-size:20px;line-height:1;margin-top:0;color:#fff}#controls{position:fixed;top:20px;right:20px;display:flex;flex-direction:column;gap:10px}button{padding:10px 20px;background:#4a90e2;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:14px;transition:background .2s ease}button:hover{background:#357abd}button:disabled{background:#666;cursor:not-allowed}.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.9);display:flex;justify-content:center;align-items:center;z-index:1000;backdrop-filter:blur(5px)}.modal.hidden{display:none}.modal-content{background:rgba(44,62,80,.95);padding:20px;border-radius:15px;max-width:90vw;max-height:80vh;overflow-y:auto;border:2px solid rgba(255,255,255,.3);box-shadow:0 10px 30px rgba(0,0,0,.7);backdrop-filter:blur(10px)}.modal-content h3{margin-bottom:20px;text-align:center;color:gold;font-size:18px}#summon-cards{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-bottom:20px;max-height:300px;overflow-y:auto}#summon-cards .card{position:relative;margin:0}.modal-content button{background:linear-gradient(135deg,#e74c3c,#c0392b);color:#fff;border:none;border-radius:25px;padding:10px 20px;cursor:pointer;font-size:14px;font-weight:700;transition:all .3s ease;display:block;margin:0 auto}.modal-content button:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,.3)}.card-info{position:absolute;bottom:-40px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.9);color:#fff;padding:5px 8px;border-radius:5px;font-size:10px;white-space:nowrap;display:none;z-index:100;border:1px solid rgba(255,255,255,.3)}.card:hover .card-info{display:block}.hidden{display:none}@media (max-width:768px){body{height:100vh;height:100dvh;overflow:hidden}#game-container{height:100vh;height:100dvh}.card{width:32px;height:44px;font-size:12px;touch-action:manipulation}.card-value{font-size:16px}.card-suit{font-size:18px}#player-hand{max-width:100vw;padding:8px 3px;bottom:10px;bottom:max(10px,env(safe-area-inset-bottom));position:fixed;z-index:1000}.hand-cards{gap:2px;flex-wrap:nowrap;overflow-x:auto;overflow-y:visible;scrollbar-width:none;-ms-overflow-style:none}.hand-cards::-webkit-scrollbar{display:none}.player-info{min-width:90px;padding:6px;font-size:12px}.player-name{font-size:14px}.stats{font-size:10px;gap:2px}#game-status{padding:6px 12px;font-size:14px}#game-status div{font-size:12px}#action-buttons{gap:8px}#action-buttons button{padding:14px 18px;font-size:14px;min-width:100px;min-height:48px}#settings-menu{bottom:58px;bottom:max(58px,calc(48px + env(safe-area-inset-bottom)));left:8px;position:fixed;z-index:999}#menu-options{bottom:48px;min-width:200px;padding:12px;gap:8px}#menu-options button{padding:16px 20px;font-size:16px;min-height:52px}}@media (max-height:600px){.card{width:24px;height:34px}#player-hand{padding:5px;position:fixed;bottom:5px;bottom:max(5px,env(safe-area-inset-bottom))}.overlay{font-size:12px}#settings-menu{bottom:40px;bottom:max(40px,calc(35px + env(safe-area-inset-bottom)))}#settings-menu button{font-size:20px;padding:6px}}@media (max-width:768px) and (orientation:landscape){#player-hand{padding:4px 3px;bottom:5px;bottom:max(5px,env(safe-area-inset-bottom))}#settings-menu{bottom:38px;bottom:max(38px,calc(33px + env(safe-area-inset-bottom)))}}@media (max-width:900px) and (orientation:landscape){.card{width:22px;height:30px;font-size:7px}.card-value{font-size:12px}.card-suit{font-size:13px}#player-hand{padding:5px}.hand-cards{gap:2px}.overlay{font-size:10px}.player-info{padding:4px;min-width:80px}.stats{font-size:9px}#game-status{padding:4px 8px}#action-buttons{gap:6px}#action-buttons button{padding:8px 12px;font-size:11px;min-width:70px;min-height:36px}#settings-menu button{font-size:18px;padding:5px}#menu-options{bottom:92px;min-width:170px;padding:8px;gap:6px}#menu-options button{padding:10px 14px;font-size:12px;min-height:36px}}@media (max-width:480px){.card{width:30px;height:42px;font-size:11px}.card-value{font-size:16px}.card-suit{font-size:18px}.hand-cards{gap:1px;flex-wrap:nowrap}.player-info{min-width:80px;padding:4px}.stats{font-size:9px}#action-buttons button{padding:12px 16px;font-size:13px;min-width:90px}.top-center,.top-left,.top-right{top:2px}.bottom-center,.bottom-left,.bottom-right{bottom:2px}.bottom-left,.top-left{left:2px}.bottom-right,.top-right{right:2px}#settings-menu{bottom:44px;left:4px}#menu-options{bottom:65px;min-width:220px;padding:12px;gap:8px}}@media (hover:none) and (pointer:coarse){.card{min-width:32px;min-height:44px}button{min-width:44px;min-height:44px;padding:12px 16px}#action-buttons button{min-width:120px;min-height:50px;font-size:16px}#settings-menu button{min-width:44px;min-height:44px}#action-buttons{gap:12px}.hand-cards{gap:3px;flex-wrap:nowrap}#menu-options button{min-height:48px;padding:12px 16px;font-size:15px}}@media (max-width:768px) and (orientation:portrait){.card{width:30px;height:42px;font-size:11px}.card-value{font-size:16px}.card-suit{font-size:18px}#player-hand{max-width:100vw;bottom:0;padding:6px 2px}.hand-cards{gap:1px;flex-wrap:nowrap}.player-info{min-width:85px;padding:4px;font-size:11px}.player-name{font-size:13px}.stats{font-size:9px}#game-status{font-size:13px;padding:5px 10px}#game-status div{font-size:11px}#action-buttons button{padding:12px 16px;font-size:13px;min-height:46px}.hand-cards{justify-content:flex-start;padding-left:5px;padding-right:5px;flex-wrap:nowrap}}@supports (padding:env(safe-area-inset-top)){body{padding-top:env(safe-area-inset-top);padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom)}#player-hand{bottom:env(safe-area-inset-bottom)}#settings-menu{bottom:calc(48px + env(safe-area-inset-bottom));left:calc(8px + env(safe-area-inset-left))}#menu-options{bottom:calc(48px + env(safe-area-inset-bottom))}}@media (max-width:1024px) and (orientation:landscape){.card{width:28px;height:38px;font-size:10px}#player-hand{padding:4px 2px}.hand-cards{gap:2px;flex-wrap:nowrap}.player-info{min-width:80px;padding:3px;font-size:10px}#game-status{font-size:12px;padding:4px 8px}#action-buttons button{padding:10px 14px;font-size:12px;min-height:44px}}